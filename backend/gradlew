#!/bin/sh

##############################################################################
#
#   Gradle start up script for POSIX generated by Gradle.
#
#   Important for running:
#
#       (1) You need a POSIX-compliant shell to run this script. If your /bin/sh is
#           noncompliant, but you have some other compliant shell such as ksh or
#           bash, then to run this script, type that shell name before the whole
#           command line, like:
#
#               ksh Gradle
#
#           Busybox and similar reduced shells will NOT work, because this script
#           requires all of these POSIX shell features:
#             * functions;
#             * expansions «$var», «${var}», «${var:-default}», «${var+SET}»,
#               «${var#prefix}», «${var%suffix}», and «$( cmd )»;
#             * compound commands having a testable exit status, especially «case»;
#             * various built-in commands including «command», «set», and «ulimit».
#
#           Important for patching:
#
#           (2) This script targets any POSIX shell, so it avoids extensions provided
#               by Bash, Ksh, etc; in particular arrays are avoided.
#
#               The "traditional" practice of packing multiple parameters into a
#               space-separated string is a well documented source of bugs and security
#               problems, so this is (mostly) avoided, by progressively accumulating
#               options in "$@", and eventually passing that to Java.
#
#           Busybox and similar reduced shells will NOT work, because this script
#           requires all of these POSIX shell features:
#             * functions;
#             * expansions «$var», «${var}», «${var:-default}», «${var+SET}»,
#               «${var#prefix}», «${var%suffix}», and «$( cmd )»;
#             * compound commands having a testable exit status, especially «case»;
#             * various built-in commands including «command», «set», and «ulimit».
#
##############################################################################

# Determine the Java command to use to start the JVM.
if [ -n "$JAVA_HOME" ] ; then
    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
        # IBM's JDK on AIX uses strange locations for the executables
        JAVACMD="$JAVA_HOME/jre/sh/java"
    else
        JAVACMD="$JAVA_HOME/bin/java"
    fi
    if [ ! -x "$JAVACMD" ] ; then
        die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME

Please set the JAVA_HOME variable in your environment to match the
location of your Java installation."
    fi
else
    JAVACMD="java"
    if ! command -v java >/dev/null 2>&1
    then
        die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.

Please set the JAVA_HOME variable in your environment to match the
location of your Java installation."
    fi
fi

# Use the Gradle wrapper
exec "$JAVACMD" -jar "$(dirname "$0")/gradle/wrapper/gradle-wrapper.jar" "$@"
